<!DOCTYPE html>
<html><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta http-equiv="Content-Language" content="tr">
    <meta name="google-site-verification" content="Aml4IkLX3Owh-C0d29uUJ7PbSDNUIVmh2SMQG7khDo8">
    <meta name="author" content="Alper Orus">
    <meta name="description" content="Bugün Hugo siteme e-posta ile cevapla ve mastodon yorumları nasıl eklediğimden bahsedeceğim.">
    <meta name="keywords" content="alper, orus, eorus, blog, tasarım, fotoğraf, geliştirme, wordpress, hugo, linux">
    <meta name="robots" content="index, follow, archive">
    <title>
  Hugo&#39;ya Mastodon Yorumları ve E-posta ile Yanıtla Ekleme · Eorus
</title>



    
<meta property="og:image" content="http://localhost:1313/images/hugo.jpg" />
    

<meta property="og:url" content="http://localhost:1313/tr/posts/2023/03/hugo-mastodon-email-comments/">
  <meta property="og:site_name" content="Eorus">
  <meta property="og:title" content="Hugo&#39;ya Mastodon Yorumları ve E-posta ile Yanıtla Ekleme">
  <meta property="og:description" content="Bugün Hugo siteme e-posta ile cevapla ve mastodon yorumları nasıl eklediğimden bahsedeceğim.">
  <meta property="og:locale" content="tr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-03-12T21:49:01+03:00">
    <meta property="article:modified_time" content="2023-03-12T21:49:01+03:00">
    <meta property="article:tag" content="Hugo">
    <meta property="article:tag" content="Blog">
    <meta property="article:tag" content="Website">


    <!--Favicon-->
    <link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" type="image/x-icon">
    <link rel="icon" href="http://localhost:1313/images/favicon.png" type="image/x-icon">

    
    <link href="/images/favicon.png" rel="icon">


  

<link rel="stylesheet" href="http://localhost:1313/style.min.167e6e327f8a251e87095a5741668284f94063a3e871e5b902da16fb008eea78.css">


    
    <link rel="canonical" href="http://localhost:1313/tr/posts/2023/03/hugo-mastodon-email-comments/">
    

    <meta name="generator" content="Hugo 0.150.0">
</head>
<body class="posts hugo-mastodon-comments-email"><header id="header" class="navbar">
<div class="container grid-xl">
  <section class="navbar-section">
    <div class="wrap">
    <span class="decor"></span>
    <div class="nav-menu">
         
        <ul class="primary">
        
          
        <li class="nav-item">
        <a class="nav-link menu-item no-decoration " href="/tr/">
          <i class='fa fa-home'></i> 
          Ana Sayfa
        </a>
         </li>
          
        <li class="nav-item">
        <a class="nav-link menu-item no-decoration " href="/tr/hakkimda/">
          <i class='fa fa-user'> </i>
          Hakkimda
        </a>
         </li>
          
        <li class="nav-item">
        <a class="nav-link menu-item no-decoration " href="/tr/projects/">
          <i class='fa fa-file'> </i>
          Projeler
        </a>
         </li>
          
        <li class="nav-item">
        <a class="nav-link menu-item no-decoration " href="/tr/posts/">
          <i class='fa fa-newspaper'></i>
          Yazılar
        </a>
         </li>
          
        <li class="nav-item">
        <a class="nav-link menu-item no-decoration " href="/tr/photos/">
          <i class='fa fa-camera'></i>
          Fotoğraflar
        </a>
         </li>
          
        <li class="nav-item">
        <a class="nav-link menu-item no-decoration " href="/tr/iletisim/">
          <i class='fa fa-envelope'> </i>
          İletişim
        </a>
         </li>
          
        
        
          
          
          
            
<a href="http://localhost:1313/posts/2023/03/hugo-mastodon-email-comments/" class="btn btn-secondary btn-sm dilbtn" role="button">English</a>

            
          
        

    
        </ul>

    <a id="dark-mode" class="btn-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>

    </div>

  </section>

</div>
</header>
<div class="yan-taraf hide-sm">
				<span>I make things</span>
				<strong>simple</strong>
				<span class="line"></span>
			</div>
        <main id="main">
<section class="container page blog grid-xl">
  <div class="columns">
       <article class="column col-10 col-sm-12 col-mx-auto card">
  <div class="columns bg-secondary text-dark">
          <div class="column col-4 col-sm-12 card-image">
            
        <figure class="figure img-entry ">
           <div class="featured-media-inner section-inner medium">
            <img width="1024" height="768" src="http://localhost:1313/images/hugo.jpg"
              class="attachment-post-thumbnail size-post-thumbnail wp-post-image s-rounded d-block img-responsive" alt="Hugo&#39;ya Mastodon Yorumları ve E-posta ile Yanıtla Ekleme"
              sizes="(max-width: 1100px) 100vw, 1100px">
           </div>
         </figure>
          </div>
         

          <div class="column col-7 col-sm-12 card-header text-center m-2 p-2">
          <div class="breadcrumb card-subtitle text-tiny">


    
  
    
  
    
  

    <a href="http://localhost:1313/tr/">Home</a> /
  

    <a href="http://localhost:1313/tr/posts/">Posts</a> /
  

    Hugo&#39;ya Mastodon Yorumları ve E-posta ile Yanıtla Ekleme
  
</div>

          <div class="card-title h5"><h1 class="entry-title">Hugo&#39;ya Mastodon Yorumları ve E-posta ile Yanıtla Ekleme</h1></div>
          <div class="card-subtitle"><div class="entry-meta metadata">



<i class='fa fa-calendar'></i>
<time datetime="2023-03-12">12 March 2023</time> <span class="separator">•</span>

<i class='fa fa-user'></i> <a href="/">Alper Orus</a>  <span class="separator">•</span>
  <i class="fa fa-folder-open" aria-hidden="true"></i>
    <a href="/tr/categories/open-source/">Open Source</a> <span class="separator">•</span>
<i class="fas fa-clock"></i>Reading Time : 3min
 </div>
</div>
          </div>
  </div>

          <div class="card-body entry-content">
            <p>Statik site oluşturucuların en büyük dezavantajlarından biri ne diye sorsanız muhtemelen ilk cevap yorum bölümü ve form eklemek olacaktır. Bu sorunu çözmek için çeşitli üçüncü taraf çözümler var. Örneğin Hugo için Disqus gibi yorumları yönetebileceğiniz bir yapı ekleyebilirsiniz, ancak bunun web sitenize extra js ve kötü bir gizlilik kaydı olan bir aracı dahil etme dezavantajı vardır.</p>
<p>Bu konuda hem sıfır js politikası hem de yorum kısmındaki etkileşimi sadece eposta üzerinden takip etmek istediğim için basit çözümlerin daha ön plana çıkacağı bir ekleme yapmayı düşündüm. Bu yüzden eposta ile yanıtlamaya ek olarak yazının benim dahil olduğum mastodon sunucusunda yazının <strong>toot</strong> linkine giden url&rsquo;sini yerleştirmenin yeterli olacağı kanısına vardım.</p>
<p>Bence Mastodon ve Fediverse platformundan yararlanmak ve yazı ile ilgili olası bir tartışmayı orada devam ettirmek daha iyi bir çözüm. Mastodon, merkezi olmayan bir sosyal ağdır ve insanların aynı sunucuda olmadan birbirleriyle iletişim kurmasını sağlar.</p>
<p>Bugün Hugo siteme <strong>&ldquo;e-posta ile cevapla&rdquo;</strong> ve <strong>&ldquo;mastodon yorumları&rdquo;</strong> nasıl eklediğimden bahsedeceğim. Muhtemelen, yazının sonuna doğru kaydırırsanız bir &ldquo;e-posta ile yanıtla&rdquo; bölümü ve mastodon üzerinde yorumlayabilmek için &ldquo;toot&rdquo; linkini görebileceksiniz.</p>
<h2 id="mastodon-yorumları-ekleme">Mastodon Yorumları Ekleme</h2>
<p>İşleri basitleştirmek için mastodon yorumları bölümünü e-posta ile yanıt bölümünden ayrı tuttum. Mastodon yorumları için yazdığınız yazının ilgili toot kimliğine gidebilmesi için front matter içerisine mastodon sunucu bilgisi, kullanıcı adı ve yazının oluşan toot id&rsquo;sini eklememiz gerekiyor. Örn:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+++</span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">comments</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">host</span> = <span style="color:#e6db74">&#34;fosstodon.org&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">username</span> = <span style="color:#e6db74">&#34;eorus&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">id</span> = <span style="color:#ae81ff">109949459501850351</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+++</span></span></span></code></pre></div>
<p>Eğer her yazıda bu eklemeyi yapmak istemiyorsanız ve yazılarınızı <code>hugo new /posts/blabla.md</code> şeklinde oluşturuyorsanız default archetypes içerisinde kalıcı olarak ekleyebilirsiniz. Ya da eğer bazı yazılarınızda Mastodon etkileşiminin olmamasını istiyorsanız, yukarıdaki kod parçacığını kaldırabilir ve sadece o yazının sonunda Mastodon Toot linkinin oluşmamasını sağlayabilirsiniz. Ben isteğe bağlı kalması için kalıcı olarak değiştirmedim, yani sadece aktif olduğum ve yazının ilgili olduğunu düşündüğüm <code>fosstodon.org</code> üzerinde paylaşabileceğim yazılara bu eklemeyi yapıyorum. Eğer Mastodon yorumlarını eklemediysem o zaman sadece email ile yanıtla gözükmüş oluyor. Parametreleri açıklamak gerekirse basitçe;</p>
<ul>
<li>host: &lt;kullanılan mastodon instance&gt;</li>
<li>username: &lt;o sunucudaki kullancı adı&gt;</li>
<li>id: &lt;paylaştığınız toot için oluşan ID&gt;</li>
</ul>
<p>Doğal olarak, blog yazınızı yazarken henüz bir toot id olmayacaktır. Bu yüzden önce makaleyi yayınlamak ve ardından bunun hakkında mastodon&rsquo;da bir toot atmanız gerekiyor. Ardından front matter içerisindeki yorum bölümüne gelip oluşan toot id&rsquo;yi diğer bilgilerle ekleyip yazıyı yeniden yayınlamak gerekiyor. Bu da zaten yukarıda bahsettiğim gibi Mastodon&rsquo;da paylaşılmış ve ID&rsquo;si oluşmuş bir Toot haline dönüşmüşse yazının sonunda gösterilmesi için front matter&rsquo;a eklenebilir demek oluyor.</p>
<p>Açıkçası benim site içerisinde gömülü olarak Mastodon yorumlarını göster/yükle gibi bir derdim olmadığından, yazıyı okuyan kişilerin basitçe Mastodon sunucusunda ilgili toot üzerinden yorum yapabileceklerini söyleyebilmem yeterli. Bunun için temanın şablonlarında <code>layouts/partials/comments.html</code> dosyasını aşağıdaki kod parçacığı ile oluşturuyoruz.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{ with .Params.comments }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;article-content&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">h3</span>&gt;{{ i18n &#34;Comments&#34; . }}&lt;/<span style="color:#f92672">h3</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span>&gt;{{ i18n &#34;comment_message&#34; . | safeHTML }}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>{{ end }}</span></span></code></pre></div>
<p>Burada dikkat ettiyseniz baştaki <code>with .Params.comments</code> ile sadece front matter içerisinde TOML parametresi olarak <code>#comments</code> detaylarını gördüğünde bilgileri getiriyor. Yazılarımı hem Türkçe hem de İngilizce yazdığım için i18n/tr için <code>comment_message</code> içeriğini aşağıdaki gibi okuyor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">comment_message</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">other</span> = <span style="color:#e6db74">&#39;Mastodon veya Fediverse hesabınızı kullanarak bu &lt;strong&gt;&lt;a class=&#34;link&#34; href=&#34;https://{{ .host }}/@{{ .username }}/{{ .id }}&#34;&gt;toot!&lt;/a&gt;&lt;/strong&gt; için &lt;strong&gt;cevap&lt;/strong&gt; bırakabilirsiniz.&#39;</span></span></span></code></pre></div>
<p>Son olarak temanın default şablonlarında (ya da <strong>posts</strong> için hangisini kullanıyorsanız) <code>layouts/_default/single.html</code> içine partials/comments.html getirecek şekilde eklemeyi yapıyoruz.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span> {{ <span style="color:#a6e22e">partial</span> <span style="color:#e6db74">&#34;comments.html&#34;</span> . }}</span></span></code></pre></div>
<h2 id="email-ile-yanıtlama">Email ile Yanıtlama</h2>
<p>Email ile yanıtla için ise yine single.html içerisinde Mastodon yorumlarının hemen altına şu eklemeyi yapmak yeterli olacaktır.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">strong</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mailto:mail@example.com?cc=mail@example.com&amp;subject={{ .Title }}&#34;</span>&gt;Email ✉️ ile yanıtlayın&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">strong</span>&gt;</span></span></code></pre></div>
<p>Hepsi bu kadar! Daha kapsamlı olması isteniyorsa <a href="https://amnesiak.org/post/2021/01/30/hugo-blog-with-mastodon-comments-extended/#wrapping-things-up">buraya</a> bakılabilir.</p>

          </div>
            


          <div class="entry-footer clearfix">
                <div class="float-left">
 <ul class="tags">
  <i class="fa fa-tags" aria-hidden="true"></i>
    <a href="/tr/tags/hugo/">Hugo</a>
      <span class="separator">•</span>
    <a href="/tr/tags/blog/">Blog</a>
      <span class="separator">•</span>
    <a href="/tr/tags/website/">Website</a></ul>

                </div>
                 <div class="float-right share">

                   <a href="http://twitter.com/share?url=http%3a%2f%2flocalhost%3a1313%2ftr%2fposts%2f2023%2f03%2fhugo-mastodon-email-comments%2f" title="Share on Twitter"><i class="fab fa-twitter"></i></a>

                  <a href="http://www.facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2ftr%2fposts%2f2023%2f03%2fhugo-mastodon-email-comments%2f" title="Share on Facebook"><i class="fab fa-facebook"></i></a>

                 </div>
          </div>

        </article>
      </div>
    </div>
        <ul class="col-11 column col-mx-auto pagination">
          <li class="page-item page-next text-center">
          <i class="fa fa-arrow-left"></i><a href="http://localhost:1313/tr/posts/2023/03/archlinux-pacman-commands/">Archlinux Pacman Komutları Rehberi</a>
          
          </li>
          <li class="page-item page-prev text-center">
          <a href="http://localhost:1313/tr/posts/2023/03/comfort-zone-notifications/">Konfor Alanı, Bildirimler ve Küçük Ev Aletleri</a><i class="fa fa-arrow-right"></i>
        
          </li>
      </ul>

</section>


        </main>  <footer class="footer">
    <section class="container-fluid">
      <div class="row">
        <div class="col-md-12 text-center">
      
        <p>Bir aktiviteye aşık olun ve yapın! Yaşamın ne olduğunu hiç kimse bilmiyor ve bunun hiçbir önemi yok. </p>
      
        </div>
      </div>
      <p class="footer text-center"><a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i><i class="fab fa-creative-commons-sa"></i> <span class="separator">•</span></a> 2025 Crafted with <i class="fa fa-heart" aria-hidden=true></i> • by Alper Orus  & Powered by <a href="https://gohugo.io/">Hugo</a></p>
    </section>
  </footer>

    
      
        
        <script src="/js/main.js"></script>
      
    
      
        
        <script src="/js/jquery.min.js"></script>
      

  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.4.0/jquery.fancybox.min.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    </body>
</html>
